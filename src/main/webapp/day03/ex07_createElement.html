<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>요소 생성</title>
	</head>
	<body>
<!-- 
		요소(Element=Node) 생성 => createElement
		
		부모요소에서 자식 요소 추가 => appendChild

		삽입 위치를 지정해서 요소 삽입 => insertBefore(삽입 요소, 삽입 위치)

		해당 요소 삭제 => remove
		
		자식 요소 삭제 => 부모노드.removeChild(자식노드)
		
		지정된 노드의 부모 요소를 반환 => parentNode

 -->
 	
		<h2 id="title">운동</h2>
		<form name="myForm">
			<!-- autocomplete="off" => 자동완성기능 해제 -->
			<input type="text" name="myText" placeholder="운동을 입력해주세요." autocomplete="off">
			<button id="before">앞에 추가</button>
			<button id="btn">추가</button>
			<button id="remove">제거</button>
		</form>
		
		<ul class="list">
			<li class="item" id="target">스쿼트
				<button class="remove_btn">X</button>
			</li>
		</ul>
		
		<!-- 
		<script type="text/javascript">
		
			let li = document.createElement(`li`);
			let ul = document.querySelector(`.list`);
			
			li.textContent = `줄넘기`;
			ul.appendChild(li);
		
		</script>
		 -->
		 
		 <script type="text/javascript">
		 	let btn = document.querySelector(`#btn`);
		 	let inputBox = document.querySelector(`input`);
		 	let before_btn = document.querySelector(`#before`);
		 	let remove_btn = document.querySelector(`#remove`);
		 	
		 	//btn.addEventListener(`click`, function(){})
		 	btn.addEventListener(`click`, (e) => {
		 		//	폼은 요소가 들어가면 자동으로 새로고침
		 		//	새로고침 방지
		 		e.preventDefault();
		 		let li = document.createElement(`li`);
				let ul = document.querySelector(`.list`);
				let btn = document.createElement(`button`);
				
				//	인풋 박스에 입력된 value 를 넣어주자
				li.textContent = inputBox.value;
				ul.appendChild(li);
				
				//	삭제 x 버튼 넣어주자
				btn.textContent = `X`;
				//btn.setAttribute(`class`, `remove_btn`);
				btn.classList.add(`remove_btn`);
				li.appendChild(btn);
				
				//	인풋 박스 초기화
				inputBox.value = '';
				inputBox.focus();
	
				//	e.target => 이벤트가 발생하는 요소 => button
				//	나는 li 를 지워야하므로, 부모 요소를 지워야한다. => parentNode
				btn.addEventListener(`click`, (e) => {
					e.target.parentNode.remove();
					inputBox.focus();
				})
		 	})
		 	
		 	before_btn.addEventListener(`click`, (e) => {
		 		//	폼은 요소가 들어가면 자동으로 새로고침
		 		//	새로고침 방지
		 		e.preventDefault();
		 		let li = document.createElement(`li`);
				let ul = document.querySelector(`.list`);
				let targetLi = document.querySelector(`#target`);
				let btn = document.createElement(`button`);
				
				//	인풋 박스에 입력된 value 를 넣어주자
				li.textContent = inputBox.value;
				ul.insertBefore(li, targetLi);
				
				//	삭제 x 버튼 넣어주자
				btn.textContent = `X`;
				//btn.setAttribute(`class`, `remove_btn`);
				btn.classList.add(`remove_btn`);
				li.appendChild(btn);

				//	인풋 박스 초기화
				inputBox.value = '';
				inputBox.focus();
				
				//	e.target => 이벤트가 발생하는 요소 => button
				//	나는 li 를 지워야하므로, 부모 요소를 지워야한다. => parentNode
				btn.addEventListener(`click`, (e) => {
					e.target.parentNode.remove();
					inputBox.focus();
				})
		 	})
		 	
		 	/* 
		 	remove_btn.addEventListener(`click`, (e) => {
		 		e.preventDefault();
				let targetLi = document.querySelector(`#target`);
				targetLi.remove();	 		
				
				
		 	})
		 	 */
		 	 
		 	let x_btn = document.querySelector(`.remove_btn`);
		 	
		 	x_btn.addEventListener(`click`, (e) => {
		 		e.preventDefault();
		 		let targetLi = document.querySelector(`#target`);
		 		targetLi.remove();
		 		inputBox.focus();
		 	})
		 
		 </script>
	
	</body>
</html>